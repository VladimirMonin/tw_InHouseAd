# Тестовое задание InHouseAd

## Задание

входные данные: 
1) 2 ссылки на wikipedia (можно из файла можно из консоли вводить)
2) ссылки за пределами wikipedia путем не считаются
3) вручную от одной страницы до второй можно дойти за 3 клика (см прмиер)
4) необходимо показать полный путь как пройти от ссылки 1 до ссылки 2. 
5) отображение пути должно для каждого шага должно содержать текст (полное предложение в котором эта ссылка найдена) и ссылку на следующую страницу
6) отображать это можно как в консоли так и в web
7) дополнительно можно вести лог файл со всеми страницами что были посещены при поиске

пример работы:

данный пример дается кандидату

исходные ссылки: стартовая - https://ru.wikipedia.org/wiki/Xbox_360_S
конечная - https://ru.wikipedia.org/wiki/Nintendo_3DS

ожидаемый вывод:
1------------------------
И 15 июня 2010 года Microsoft подтвердили их на выставке E³, объявив о прекращении производства старых версий Xbox 360 и скором старте продаж усовершенствованной версии консоли.
https://ru.wikipedia.org/wiki/Electronic_Entertainment_Expo
2-------------------------
Это совпало с появлением нового поколения консолей, в частности с выпуском Sega Saturn, и анонсами предстоящих релизов PlayStation, Virtual Boy и Neo Geo CD.
https://ru.wikipedia.org/wiki/Virtual_Boy
3-------------------------
Стереоскопическая технология в игровых приставках вновь появилась в более поздние годы и имела больший успех, включая портативную игровую приставку Nintendo 3DS
https://ru.wikipedia.org/wiki/Nintendo_3DS
результат работы:
github + readme файл с описание логики
либо файл скрипта + readme файл с описание логики

## Описание скрипта
Этот Python-скрипт ищет путь между двумя страницами Википедии, используя алгоритм поиска в ширину (BFS) и выводит на экран тексты абзацев, содержащих ссылки на следующие страницы пути.

### Технологии

    Python 3.8
    asyncio
    aiohttp
    requests
    BeautifulSoup
    re


### Преимущества асинхронного подхода

Асинхронный подход позволяет выполнять несколько задач одновременно и эффективно использовать время ожидания I/O-операций. Это значительно ускоряет выполнение скрипта, так как вместо того, чтобы ждать выполнения одной операции, скрипт может переключиться на выполнение другой. Также, благодаря асинхронному подходу, мы можем легко управлять несколькими соединениями одновременно без необходимости создания новых потоков.
Преимущества регулярных выражений

Регулярные выражения используются для поиска ссылок на странице. Использование регулярных выражений позволяет быстро и удобно находить нужные элементы на странице. Это значительно ускоряет работу скрипта, так как мы можем быстро извлекать необходимую информацию из HTML-кода страницы.
Функции

    get_links_async(url) - получает список ссылок на странице
    extend_path(path, link) - добавляет новую ссылку в конец пути
    bfs(start, end) - ищет путь между двумя страницами Википедии
    print_paragraph_with_link(path) - выводит на экран тексты абзацев, содержащих ссылки на следующие страницы пути
    main() - основная функция, запускает поиск пути между двумя страницами Википедии и выводит результат на экран.

### Решение тестовой задачи

Скрипт решает тестовую задачу по поиску пути между двумя страницами Википедии за ~10 минут.

Исходные ссылки:

    Стартовая: https://ru.wikipedia.org/wiki/Xbox_360_S
    Конечная: https://ru.wikipedia.org/wiki/Nintendo_3DS


### Функция get_links_async

получает список ссылок на странице по указанному URL-адресу.

Сначала функция создает объект ClientSession из библиотеки aiohttp. Это объект, который поддерживает установление соединений с серверами и отправку HTTP-запросов.

Затем функция отправляет GET-запрос к указанному URL-адресу, используя метод get объекта ClientSession. Полученный ответ сохраняется в переменной response.

Далее функция извлекает содержимое страницы с помощью метода text объекта response. Полученный текст сохраняется в переменную text.

Затем функция использует регулярное выражение, чтобы найти все ссылки на странице. Регулярное выражение ищет тег \<a> и извлекает значение атрибута href, который содержит URL-адрес ссылки. Полученные ссылки сохраняются в списке links.

Для каждой ссылки в списке links функция проверяет, начинается ли она со строки "/wiki/" и не начинается ли она со строки "/wiki/Special:". Если ссылка удовлетворяет этим условиям, то функция добавляет префикс "https://ru.wikipedia.org" и сохраняет ссылку в новом списке links.

Наконец, если при выполнении запроса возникла ошибка, функция логирует сообщение об ошибке и возвращает пустой список.

Обратите внимание, что функция использует конструкцию async with для управления объектом ClientSession и response. Она также использует ключевое слово await, чтобы получить текст ответа с помощью метода text. Это позволяет функции get_links_async продолжать выполнение, пока эти операции выполняются асинхронно.


### Функция bfs

Выполняет поиск в ширину от страницы start до страницы end на википедии.

Функция начинается с создания очереди путей queue, которая содержит список, начинающийся с пути из start. Также создается множество visited, которое будет содержать все посещенные страницы.

Затем функция запускает цикл, который будет работать до тех пор, пока очередь не станет пустой. В каждой итерации цикла функция извлекает первый путь из очереди и получает последнюю страницу node в этом пути.

Если node равен end, то функция возвращает найденный путь. В противном случае, если node еще не был посещен, функция добавляет его в множество visited и вызывает асинхронную функцию get_links_async(node), чтобы получить список ссылок со страницы node.

Затем функция расширяет текущие пути, создавая новые пути, добавляя каждую ссылку из списка links в конец текущего пути. Эти новые пути добавляются в конец очереди queue.

Функция также выводит отладочную информацию о посещенной странице с помощью функции logger.debug, которая использует модуль logging.

Когда цикл завершается и путь не найден, функция возвращает None.

Обратите внимание, что оператор await используется здесь для вызова асинхронной функции get_links_async(node), что позволяет функции bfs продолжать выполнение, пока эта задача выполняется асинхронно.

## Запуск

Для запуска скрипта необходимо установить все зависимости, указанные в разделе Технологии. После установки зависимостей нужно запустить скрипт командой python main.py.